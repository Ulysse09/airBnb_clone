__d((function(e,t,r,s,i,n,a){"use strict";function o(){const e=t(a[0]);return o=function(){return e},e}Object.defineProperty(n,"__esModule",{value:!0}),n.createJitneyPropsForImageResource=function({duration:e,encodedBodySize:t,name:r,transferSize:s}){if(!e||e<=0)return;if(!t||t<=0)return;const i=function(e){return l.test(e)?"ImageManager":u.test(e)&&!d.test(e)?"LegacyAkamai":"Unknown"}(r);if("Unknown"===i)return;const n="ImageManager"===i?h(r,/im_w=(\w+)/):function(e){return h(e,/aki_policy=(\w+)/)}(r);return{image_cache_type:0===s?1:0,image_size_bytes:t,image_download_time_ms:Math.floor(e),image_policy:n,image_url:r}},n.sendJitneyEventsForImages=function(e){e.forEach((e=>{c.default.logJitneyEvent({schema:o().PerformanceImageDownloadEvent,event_data:e})}))};var c=babelHelpers.interopRequireDefault(t(a[1]));const l=/(?:im_w|im_q)/,u=/aki_policy=/,d=/im\/pictures\/user/;function h(e,t){if(!e)return;const r=e.match(t);return r?r[1]:void 0}}),"21b302",["394000","4cdbd9"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PerformanceImageDownloadEvent=void 0;var o={defaultProps:{schema:"com.airbnb.jitney.event.logging.Performance:PerformanceImageDownloadEvent:2.0.0",event_name:"performance_image_download"},propTypes:{}};n.PerformanceImageDownloadEvent=o,o.fullyQualifiedName="Performance.v2.PerformanceImageDownloadEvent"}),"394000",[]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t;const r=c(e.recorderResults.lcpTarget),s=c(e.recorderResults.ttfmpTarget),i=c(e.recorderResults.ttlcpTarget),{alt:n,ttlcp:a}=e.recorderResults,l=function(e){return{interactivity_spans:e.recorderResults.interactivitySpans.map((e=>({duration:e.duration,name:e.name,long_task_durations:e.longTaskDurations,number_of_blocking_tasks:e.numberOfBlockingTasks,tbt:e.totalBlockingTime,longest_blocking_time:e.longestBlockingTime}))),interaction_categories:Object.entries(e.recorderResults.interactionCategories).reduce(((e,[t,r])=>({...e,[t]:{tbt_per_second:r.totalBlockingTimePerSecond,number_of_blocking_tasks_per_second:r.numberOfBlockingTasksPerSecond,min_frame_drops_per_second:r.minFrameDropsPerSecond,count:r.count,duration:r.duration}})),{})}}(e);return{assets:e.recorderResults.assets,page_request_method:e.pageRequestMethod,universal_page_name:e.universalPageName,subpage_name:e.subPageName,impression_uuid:e.impressionUuid,ttfcp:e.recorderResults.ttfcp,ttfmp:e.recorderResults.ttfmp,ttlcp:null!==(t=e.recorderResults.ttlcp)&&void 0!==t?t:e.recorderResults.ttfcp,fid:e.recorderResults.fid,tbt:e.recorderResults.totalBlockingTime,interaction_hangs:e.recorderResults.interactionHangs,interaction_duration:e.recorderResults.interactionDuration,event_data:e.eventData,event_data_schema:e.eventDataSchema,domain_and_path:e.domainAndPath,network_information:e.networkInformation,web_performance_timing:e.recorderResults.webPerformanceTiming,tbt_pre_hydrate:e.recorderResults.tbtPreHydrate,tbt_post_hydrate:e.recorderResults.tbtPostHydrate,time_to_hydrate:e.recorderResults.timeToHydrate,recorder_duration:e.recorderResults.recorderDuration,time_to_fid:e.recorderResults.timeToFid,number_of_blocking_tasks:e.recorderResults.numberOfBlockingTasks,number_of_long_input_delays:e.recorderResults.numberOfLongInputDelays,total_duration_of_long_input_delays:e.recorderResults.totalDurationOfLongInputDelays,long_input_delays:e.recorderResults.longInputDelays,long_input_delay_counts:e.recorderResults.longInputDelayCounts,timed_interactions:e.recorderResults.timedInteractions,longest_blocking_time:e.recorderResults.longestBlockingTime,longest_blocking_task_index:e.recorderResults.longestBlockingTaskIndex,cumulative_layout_shift:e.recorderResults.cumulativeLayoutShift,lcp:e.recorderResults.lcp,...l,document_age:e.recorderResults.documentAge,inline_stylesheet_rules:e.recorderResults.inlineStylesheetRules,external_stylesheet_rules:e.recorderResults.externalStylesheetRules,is_dev:e.isDev,metadata:{...r&&{lcpTarget:r},...i&&{ttlcpTarget:i},...s&&{ttfmpTarget:s},..."number"==typeof n&&{alt:String(n)},cumulativeLayoutShiftEntries:JSON.stringify(e.recorderResults.cumulativeLayoutShiftEntries),..."number"==typeof a&&{ttlcpRaw:String(a)},framework:"react-16",preactErfTreatment:o.default.findTreatmentWithoutLogging("preact_cgl_v2")}}},n.serializeNode=c;var o=babelHelpers.interopRequireDefault(t(a[0]));function c(e){if(!e)return;const{nodeName:t,parentElement:r}=e;let s,i;if(e.nodeType===Node.ELEMENT_NODE){const t=e;s=t.className,i=t.id}return JSON.stringify({nodeName:t,className:s,id:i,parentElement:r&&{nodeName:r.nodeName,className:r.className,id:r.id}})}}),"4e0da4",["52d64b"]),__d((function(e,t,r,s,i,n,a){"use strict";function o(e,t){const{longTasks:r}=e,{start:s,end:i}=t;return r.filter((e=>e.startTime>=s&&(!i||e.startTime<i))).sort(((e,t)=>e.startTime-t.startTime)).map(((e,t)=>({entry:e,index:t})))}function c(e){return e.reduce(((e,t)=>e+t.entry.duration-50),0)}function l(e,t){return c(o(e,t))}function u(e){if(0!==e.length)return e.reduce(((e,t)=>t.entry.duration>e.entry.duration?t:e),e[0])}function d(e){const{ttfcp:t=0}=e;return u(o(e,{start:t}))}function h(e){if(e)return e.entry.duration-50}Object.defineProperty(n,"__esModule",{value:!0}),n.calculateInteractivityMetricsInInterval=function(e,t){const r=o(e,t);return{longTaskDurations:r.map((e=>e.entry.duration)),totalBlockingTime:c(r),numberOfBlockingTasks:r.length,longestBlockingTime:h(u(r))}},n.calculateLongestBlockingTaskIndex=function(e){var t;return null===(t=d(e))||void 0===t?void 0:t.index},n.calculateLongestBlockingTime=function(e){return h(d(e))},n.calculateNumberOfBlockingTasks=function(e){return e.longTasks.length},n.calculateTbtPostHydrate=function(e,t){const{ttfcp:r=0}=e;if(void 0!==t)return l(e,{start:Math.max(t,r)})},n.calculateTbtPreHydrate=function(e,t){const{ttfcp:r=0}=e;if(void 0!==t)return l(e,{start:r,end:t})},n.calculateTotalBlockingTime=function(e){const{ttfcp:t=0}=e;return l(e,{start:t})}}),"695adb",[]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InteractivitySpanName=void 0,n.aggregateInteractivitySpans=function(e){const t=new Map;e.forEach((e=>{var r;const{name:s}=e;t.has(s)||t.set(s,[]),null===(r=t.get(s))||void 0===r||r.push(e)}));const r={};return t.forEach(((e,t)=>{const s=e.reduce(((e,t)=>e+t.duration),0),i=e.reduce(((e,t)=>e+t.totalBlockingTime),0),n=e.reduce(((e,t)=>e+t.numberOfBlockingTasks),0),a=e.flatMap((e=>e.longTaskDurations)).map((e=>(e-16.666666666666668)/16.666666666666668)).reduce(((e,t)=>e+t),0);0!==s&&(r[t]={totalBlockingTimePerSecond:i/s*1e3,numberOfBlockingTasksPerSecond:n/s*1e3,minFrameDropsPerSecond:a/s*1e3,duration:s,count:e.length})})),r},n.beginInteractivitySpan=function(e){u(e,"BEGIN")},n.endInteractivitySpan=function(e){u(e,"END")},n.getInteractivitySpans=function(e){const t=(0,o.default)(),r=Object.values(c).reduce(((e,r)=>[...e,...t.getEntriesByName(l(r,"BEGIN"),"mark"),...t.getEntriesByName(l(r,"END"),"mark")]),[]).filter((t=>t.startTime>=e.start&&t.startTime<e.end));return r.sort(((e,t)=>e.startTime-t.startTime)),function(e,t){const r=new Set,s=new Map,i=[];return e.forEach((e=>{const{name:n,event:a}=function(e){const t=e.endsWith("_END")?"END":"BEGIN";return{name:e.slice("PPS_SPAN_".length,-(t.length+1)),event:t}}(e.name);"BEGIN"===a?s.has(n)||s.set(n,e.startTime):(s.has(n)?i.push({name:n,start:s.get(n),end:e.startTime}):r.has(n)||i.push({name:n,start:t.start,end:e.startTime}),s.delete(n),r.add(n))})),s.forEach(((e,r)=>{i.push({name:r,start:e,end:t.end})})),i}(r,e)};var o=babelHelpers.interopRequireDefault(t(a[0]));let c;function l(e,t){return`PPS_SPAN_${e}_${t}`}function u(e,t){(0,o.default)().mark(l(e,t))}n.InteractivitySpanName=c,function(e){e.DESKTOP_MAP_INTERACTION="DESKTOP_MAP_INTERACTION",e.MOWEB_MAP_INTERACTION="MOWEB_MAP_INTERACTION",e.MOWEB_MAP_USER_INTERACTION="MOWEB_MAP_USER_INTERACTION",e.DESKTOP_MAP_USER_INTERACTION="DESKTOP_MAP_USER_INTERACTION",e.COMMUNITY_COMMITMENT_ACCEPT_TOS="COMMUNITY_COMMITMENT_ACCEPT_TOS",e.SCROLL="SCROLL"}(c||(n.InteractivitySpanName=c={}))}),"6cda14",["be93ab"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return o.default.get("china-guest-loop")};var o=babelHelpers.interopRequireDefault(t(a[0]))}),"6f9d08",["05b07c"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.calculateAdditionalLoadTime=function(e,t){const r=d(u(e,t));return 0===r.length?0:r.map((({start:e,end:t})=>t-e)).reduce(((e,t)=>e+t),0)/r.length},n.isALTEnabled=function(){return o.default.getBootstrap("pps_web_enable_alt")},n.measureAdditionalLoadTime=function(e,t){d(u(e,t)).forEach((({start:e,end:t})=>performance.measure("ALT",{start:e,end:t})))};var o=babelHelpers.interopRequireDefault(t(a[0]));const c=new Set(["fetch","xmlhttprequest","script","css","link"]),l=new Set(["/tracking/jitney/logging/messages","/api/v2/marketing_event_tracking"]);function u(e,t){return e.filter((e=>{if("number"!=typeof t||e.startTime<t)return!1;if(e.duration<50)return!1;if(!c.has(e.initiatorType))return!1;const{pathname:r}=new URL(e.name);return!l.has(r)}))}function d(e){const t=e.sort(((e,t)=>e.startTime-t.startTime)),r=[];return t.forEach((({startTime:e,responseEnd:t})=>{const s=r[r.length-1];!s||e>s.end?r.push({start:e,end:t}):s.end=Math.max(s.end,t)})),r}}),"7522e1",["6b945b"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=babelHelpers.interopRequireDefault(t(a[0])),c=babelHelpers.interopRequireDefault(t(a[1])),l=t(a[2]),u=t(a[3]),d=babelHelpers.interopRequireDefault(t(a[4])),h=t(a[5]),m=t(a[6]),p=t(a[7]),f=t(a[8]),g=t(a[9]),_=babelHelpers.interopRequireDefault(t(a[10])),v=t(a[11]),b=t(a[12]);const y=new Set(["click","input","keypress"]),R=[b.InteractivitySpanName.MOWEB_MAP_USER_INTERACTION,b.InteractivitySpanName.DESKTOP_MAP_USER_INTERACTION,b.InteractivitySpanName.SCROLL];class T{constructor({isDirectRequest:e,pageCreatedAt:t}){this.isRecorderLoggable=!0,this.networkInformation=(0,p.getNetworkInformation)(),this.initialVisibilityState=(0,d.default)(),this.isDirectRequest=void 0,this.isClientSideRequest=void 0,this.performance=(0,c.default)(),this.createdAt=void 0,this.pageRequestMethod=1,this.domainAndPath=`${window.location.host}${window.location.pathname}`,this.recorderController=void 0,this.recorderResults={assets:{},cumulativeLayoutShiftEntries:[],interactionCategories:{},interactivitySpans:[],longInputDelayCounts:[],longInputDelays:[],longTasks:[],numberOfLongInputDelays:0,resources:[],timedInteractions:[],totalDurationOfLongInputDelays:0},this.paintObserver=void 0,this.longTaskObserver=void 0,this.inputDelayObserver=void 0,this.timedInteractionObserver=void 0,this.resourcesObserver=void 0,this.clsObserver=void 0,this.lcpObserver=void 0,this.retired=!1,this.isDev=!1,this.universalPageName=void 0,this.subPageName=void 0,this.impressionUuid=void 0,this.eventData=void 0,this.eventDataSchema=void 0,this.showLogs=(0,l.getTreatmentOverride)("pps"),this.retire=async()=>{var e,t,r;this.retired||(this.retired=!0,void 0===this.recorderResults.ttfcp&&(this.isRecorderLoggable=!1),this.cleanUpLongTasks(),this.cleanupLongInputDelayObserver(),this.cleanupTimedInteractionObserver(),this.cleanUpResources(),this.cleanUpClsObserver(),this.cleanUpPaintObserver(),this.cleanUpLcpObserver(),this.cleanupScrollHangs(),this.recordStylesheetRuleLength(),this.recorderResults.recorderDuration=this.performance.now()-this.createdAt,this.recorderResults.timeToHydrate=this.calculateTimeToHydrate(),this.hasNecessaryPolyfills()&&(window.perfMetrics.stopSearchingForFirstMeaningfulPaint(),null===(t=(r=window.perfMetrics).stopSearchingForLargestContentfulPaint)||void 0===t||t.call(r)),null===(e=this.recorderController)||void 0===e||e.abort(),this.recorderController=void 0)},this.getDataProblems=()=>{const{ttfcp:e}=this.recorderResults,t=[];return e&&e<0&&t.push("ttfcp-negative"),e&&e>6e4&&t.push("ttfcp-exceeds-60s"),{problems:t,warnings:[]}},this.readCalculatedMetrics=()=>{const e=this.calculateTimeToHydrate();return{tbt:(0,f.calculateTotalBlockingTime)(this.recorderResults),tbtPreHydrate:(0,f.calculateTbtPreHydrate)(this.recorderResults,e),tbtPostHydrate:(0,f.calculateTbtPostHydrate)(this.recorderResults,e),timeToHydrate:e,numberOfBlockingTasks:(0,f.calculateNumberOfBlockingTasks)(this.recorderResults),longestBlockingTime:(0,f.calculateLongestBlockingTaskIndex)(this.recorderResults),longestBlockingTaskIndex:(0,f.calculateLongestBlockingTaskIndex)(this.recorderResults),...(0,g.isALTEnabled)()&&{alt:(0,g.calculateAdditionalLoadTime)(this.recorderResults.resources,this.recorderResults.ttfcp)}}},this.gatherMetrics=()=>{this.isDirectRequest&&this.observeFCP(),this.listenForLCP(),this.listenForLongTasks(),this.listenForCLS(),this.listenForResources(),this.listenForLongInputDelays(),this.listenForTimedInteractions(),this.listenForScrollHangs(),this.recorderResults.webPerformanceTiming={...(0,p.getWWWCdnProvider)(),...this.isDirectRequest&&(0,p.getWebPerformanceTiming)()}},this.gatherPolyfilledMetrics=()=>{this.listenForFMP(),this.listenForFID(),this.listenForTTLCP()},this.observeFCP=()=>{if(!this.isClientSideRequest&&this.supportsPerformanceObserverWithType("paint"))try{this.paintObserver=new PerformanceObserver((e=>{e.getEntries().forEach(this.setTtfcpDirectFromEntry)})),this.paintObserver.observe({type:"paint",buffered:!0}),(0,u.isWebSafari)()&&this.performance.getEntriesByType("paint").forEach(this.setTtfcpDirectFromEntry)}catch(e){}},this.setTtfcpDirectFromEntry=e=>{"first-contentful-paint"===e.name&&(this.setTtfcpClientFromTimestamp(e.startTime),this.showLogs&&this.consoleLogMetrics())},this.cleanUpPaintObserver=()=>{this.paintObserver&&("function"==typeof this.paintObserver.takeRecords&&this.paintObserver.takeRecords().forEach(this.setTtfcpDirectFromEntry),this.paintObserver.disconnect())},this.setTtfcpClientFromTimestamp=e=>{this.retired||this.recorderResults.ttfcp||(this.recorderResults.ttfcp=e-this.createdAt,this.isClientSideRequest&&(this.performance.mark("TTFCP_END"),this.performance.measure("TTFCP","CSR_PAGE_START","TTFCP_END")),this.showLogs&&this.consoleLogMetrics())},this.listenForFMP=()=>{this.retired||(this.isClientSideRequest&&window.perfMetrics.startSearchingForFirstMeaningfulPaint(),window.perfMetrics.onFirstMeaningfulPaint(this.setTTFMP))},this.setTTFMP=e=>{this.retired||(this.recorderResults.ttfmp=e-this.createdAt,this.recorderResults.ttfmpTarget=document.getElementById(v.FMP_TARGET_ID),this.isClientSideRequest&&(this.performance.mark("TTFMP_END"),this.performance.measure("TTFMP","CSR_PAGE_START","TTFMP_END")),this.showLogs&&this.consoleLogMetrics())},this.listenForTTLCP=()=>{var e,t,r,s,i,n,a,o;this.retired||(this.isClientSideRequest?null===(r=(s=window.perfMetrics).startSearchingForLargestContentfulPaint)||void 0===r||r.call(s):(null===(i=(n=window.perfMetrics).stopPollingForLargestContentfulPaint)||void 0===i||i.call(n),null===(a=(o=window.perfMetrics).markIsHydratedForLargestContentfulPaint)||void 0===a||a.call(o)),null===(e=(t=window.perfMetrics).onLargestContentfulPaint)||void 0===e||e.call(t,this.setTTLCP))},this.setTTLCP=(e,t)=>{this.retired||(this.recorderResults.ttlcp=Math.max(0,e-this.createdAt),this.recorderResults.ttlcpTarget=t,this.showLogs&&this.consoleLogMetrics())},this.listenForFID=()=>{window.perfMetrics.clearFirstInputDelay(),window.perfMetrics.onFirstInputDelay(this.setFID)},this.setFID=(e,t)=>{if(this.retired)return;this.recorderResults.fid=e;const r=t.timeStamp-this.createdAt;r>=0&&(this.recorderResults.timeToFid=r),this.showLogs&&this.consoleLogMetrics()},this.listenForTimedInteractions=()=>{if(this.supportsPerformanceObserverWithType("element")){this.cleanupTimedInteractionObserver(),this.timedInteractionObserver=new PerformanceObserver((e=>{T.lastInputDelayEvent&&(e.getEntries().forEach((e=>{this.recordTimedInteraction(e)})),T.lastInputDelayEvent=void 0)}));try{this.timedInteractionObserver.observe({type:"element",buffered:this.isDirectRequest})}catch(e){}}},this.recordTimedInteraction=e=>{const t=T.lastInputDelayEvent;if(!t)return;const{element:r,identifier:s,name:i,renderTime:n}=e,a={element_type:"image-paint"===i?"image":"text",identifier_type:s,previous_target_ancestor_section_id:t.target_ancestor_section_id,start_time:t.start_time,target_ancestor_section_id:this.findAncestorSectionId(r),total_time:Math.round(n-t.start_time)};this.recorderResults.timedInteractions.push(a)},this.cleanupTimedInteractionObserver=()=>{if(!this.timedInteractionObserver)return;"function"==typeof this.timedInteractionObserver.takeRecords&&this.timedInteractionObserver.takeRecords();const{timedInteractions:e}=this.recorderResults;this.recorderResults.timedInteractions=e.slice(0,20),this.timedInteractionObserver.disconnect()},this.listenForLongInputDelays=()=>{if(this.supportsPerformanceObserverWithType("event")){this.inputDelayObserver=new PerformanceObserver((e=>{let t;e.getEntries().forEach((e=>{this.recordLongInputDelay(e),y.has(e.name)&&(t=e)})),t&&(T.lastInputDelayEvent=this.createLongInputRecord(t))}));try{this.inputDelayObserver.observe({type:"event",buffered:this.isDirectRequest})}catch(e){}}},this.createLongInputRecord=e=>{const{duration:t,name:r,processingEnd:s,processingStart:i,startTime:n,target:a}=e,o=i-n;return{input_delay:Math.round(o),input_duration:t,event_type:r,start_time:Math.round(n),target_ancestor_section_id:this.findAncestorSectionId(a),total_time:Math.round(s-n)}},this.recordLongInputDelay=e=>{const{name:t,processingStart:r,startTime:s}=e;if(!y.has(t))return;if(r-s<100)return;const i=this.createLongInputRecord(e);this.recorderResults.longInputDelays.push(i)},this.cleanupLongInputDelayObserver=()=>{if(!this.inputDelayObserver)return;"function"==typeof this.inputDelayObserver.takeRecords&&this.inputDelayObserver.takeRecords();let e=0;const t=new Map;this.recorderResults.longInputDelays.forEach((({event_type:r,total_time:s})=>{e+=s;let i=t.get(r);i||(i={event_count:0,total_duration:0,event_name:r},t.set(r,i)),i.event_count+=1,i.total_duration+=s})),this.recorderResults.longInputDelayCounts=Array.from(t.values()),this.recorderResults.numberOfLongInputDelays=this.recorderResults.longInputDelays.length,this.recorderResults.totalDurationOfLongInputDelays=e,this.recorderResults.longInputDelays=this.recorderResults.longInputDelays.sort(((e,t)=>t.total_time-e.total_time)).slice(0,20),this.inputDelayObserver.disconnect()},this.listenForLongTasks=()=>{if(this.supportsPerformanceObserverWithType("longtask"))try{this.longTaskObserver=new PerformanceObserver((e=>{this.recorderResults.longTasks.push(...e.getEntries())})),this.longTaskObserver.observe({type:"longtask",buffered:this.isDirectRequest})}catch(e){}},this.cleanUpLongTasks=()=>{this.longTaskObserver&&("function"==typeof this.longTaskObserver.takeRecords&&this.recorderResults.longTasks.push(...this.longTaskObserver.takeRecords()),this.recorderResults.totalBlockingTime=(0,f.calculateTotalBlockingTime)(this.recorderResults),this.showLogs&&this.consoleLogMetrics(),this.recorderResults.longestBlockingTime=(0,f.calculateLongestBlockingTime)(this.recorderResults),this.recorderResults.longestBlockingTaskIndex=(0,f.calculateLongestBlockingTaskIndex)(this.recorderResults),this.recorderResults.tbtPreHydrate=(0,f.calculateTbtPreHydrate)(this.recorderResults,this.calculateTimeToHydrate()),this.recorderResults.tbtPostHydrate=(0,f.calculateTbtPostHydrate)(this.recorderResults,this.calculateTimeToHydrate()),this.recorderResults.numberOfBlockingTasks=(0,f.calculateNumberOfBlockingTasks)(this.recorderResults),this.recorderResults.interactivitySpans=(0,b.getInteractivitySpans)({start:this.createdAt,end:this.performance.now()}).map((e=>({name:e.name,duration:e.end-e.start,...(0,f.calculateInteractivityMetricsInInterval)(this.recorderResults,e)}))),this.recorderResults.interactionCategories=(0,b.aggregateInteractivitySpans)(this.recorderResults.interactivitySpans),this.longTaskObserver.disconnect())},this.calculateTimeToHydrate=()=>{const e=[...this.performance.getEntriesByName(v.HYDRATE_PERFORMANCE_HOC_MARK),...this.performance.getEntriesByName(v.HYDRATE_MEANINGFUL_ELEMENT_MARK)].filter((e=>e.startTime>this.createdAt));if(0!==e.length)return e.reduce(((e,t)=>e.startTime<t.startTime?e:t),e[0]).startTime-this.createdAt},this.listenForCLS=()=>{if(this.supportsPerformanceObserverWithType("layout-shift"))try{this.clsObserver=new PerformanceObserver(this.clsObserverCallback),this.recorderResults.cumulativeLayoutShift=0,this.clsObserver.observe({type:"layout-shift",buffered:this.isDirectRequest})}catch(e){}},this.clsObserverCallback=e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(this.recorderResults.cumulativeLayoutShift=this.recorderResults.cumulativeLayoutShift||0,this.recorderResults.cumulativeLayoutShift+=e.value||0,this.recorderResults.cumulativeLayoutShiftEntries.push((0,m.getLayoutShfitDebugEntry)(e)),this.recorderResults.cumulativeLayoutShiftEntries.length>3&&this.recorderResults.cumulativeLayoutShiftEntries.sort(((e,t)=>e.value-t.value)).slice(2),this.showLogs&&this.consoleLogMetrics())}))},this.cleanUpClsObserver=()=>{this.clsObserver&&("function"==typeof this.clsObserver.takeRecords&&this.clsObserver.takeRecords(),this.clsObserver.disconnect())},this.scrollEndTimeout=void 0,this.documentScrollEventListener=()=>{this.scrollEndTimeout||(0,b.beginInteractivitySpan)(b.InteractivitySpanName.SCROLL),window.clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=setTimeout((()=>{this.scrollEndTimeout=void 0,(0,b.endInteractivitySpan)(b.InteractivitySpanName.SCROLL)}),50)},this.listenForScrollHangs=()=>{window.addEventListener("scroll",this.documentScrollEventListener,{passive:!0})},this.cleanupScrollHangs=()=>{window.removeEventListener("scroll",this.documentScrollEventListener,!1);const e=this.recorderResults.interactivitySpans.filter((e=>R.includes(e.name)));this.recorderResults.interactionDuration=e.reduce(((e,t)=>e+t.duration),0),this.recorderResults.interactionHangs=e.reduce(((e,t)=>e+t.totalBlockingTime),0),this.showLogs&&this.consoleLogMetrics()},this.listenForResources=()=>{if(this.supportsPerformanceObserverWithType("resource"))try{this.resourcesObserver=new PerformanceObserver((e=>{this.recorderResults.resources.push(...e.getEntries())})),this.resourcesObserver.observe({type:"resource",buffered:this.isDirectRequest})}catch(e){}},this.cleanUpResources=()=>{this.resourcesObserver&&("function"==typeof this.resourcesObserver.takeRecords&&this.recorderResults.resources.push(...this.resourcesObserver.takeRecords()),this.recorderResults.assets=(0,_.default)({resources:this.recorderResults.resources,universalPageName:this.universalPageName}),(0,g.isALTEnabled)()&&(this.recorderResults.alt=(0,g.calculateAdditionalLoadTime)(this.recorderResults.resources,this.recorderResults.ttfcp),(0,g.measureAdditionalLoadTime)(this.recorderResults.resources,this.recorderResults.ttfcp)),this.resourcesObserver.disconnect())},this.recordStylesheetRuleLength=()=>{let e=0,t=0;if(document.styleSheets){for(let r=0;r<document.styleSheets.length;r++)try{document.styleSheets[r].href?t+=document.styleSheets[r].rules.length:e+=document.styleSheets[r].rules.length}catch(e){}this.recorderResults.inlineStylesheetRules=e,this.recorderResults.externalStylesheetRules=t}},this.listenForLCP=()=>{if(!this.isClientSideRequest&&this.supportsPerformanceObserverWithType("largest-contentful-paint"))try{this.lcpObserver=new PerformanceObserver((e=>{e.getEntries().forEach(this.updateLCP)})),this.lcpObserver.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}},this.updateLCP=e=>{this.recorderResults.lcp=e.startTime,this.recorderResults.lcpTarget=e.element},this.cleanUpLcpObserver=()=>{this.lcpObserver&&("function"==typeof this.lcpObserver.takeRecords&&this.lcpObserver.takeRecords().forEach(this.updateLCP),this.lcpObserver.disconnect())},this.supportsPerformanceObserverWithType=e=>"undefined"!=typeof PerformanceObserver&&!!PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e),this.findAncestorSectionId=e=>{let t=null,r=e;for(;null===t&&r;)t=r.getAttribute("data-section-id")||r.getAttribute("data-testid"),r=r.parentElement;return t||void 0},this.hasNecessaryPolyfills=()=>!!window.perfMetrics,this.consoleLogMetrics=()=>{const{alt:e,cumulativeLayoutShift:t,fid:r,interactionDuration:s,interactionHangs:i,lcp:n,totalBlockingTime:a,ttfcp:o,ttfmp:c,ttlcp:l}=this.recorderResults;console.log(`Page Performance Score metrics (air.bb/web-pps)\n\nPathname = %c${window.location.pathname}%c\n  Time To First Contentful Paint = ${this.prettyMetric({metric:o})}\n  Time To First Meaningful Paint = ${this.prettyMetric({metric:c})}\n  First Input Delay              = ${this.prettyMetric({metric:r,isFid:!0})}\n  Total Blocking Time            = ${this.prettyMetric({metric:a,isTbt:!0})}\n  Cumulative Layout Shift        = ${this.prettyMetric({metric:t,isCls:!0})}\n  \n  \n  \n  Experimental metrics\n  LCP                            = ${this.prettyMetric({metric:n})}\n  TTLCP                          = ${this.prettyMetric({metric:null!=l?l:o})}\n  Interaction Duration           = ${this.prettyMetric({metric:s,isScH:!0})}\n  Interaction Hangs              = ${this.prettyMetric({metric:i,isScH:!0})}\n  Additional Load Time           = ${this.prettyMetric({metric:e,isAlt:!0})}`,"font-weight: bold;","")},this.prettyMetric=({metric:e,isFid:t,isTbt:r,isCls:s,isAlt:i,isScH:n})=>{let a="";return a=s?(e||0).toFixed(2):e?Math.round(e).toLocaleString()+" ms":"...",a=a.padStart(9," "),t&&void 0===e&&(a+=" (click to see)"),r&&void 0===e&&(a+=" (background tab to calculate)"),i&&void 0===e&&(a+=" (background tab to calculate)"),n&&void 0===e&&(a+=" (background tab to calculate)"),a},this.isDirectRequest=e,this.isClientSideRequest=!e,e?this.createdAt=0:(this.performance.mark("CSR_PAGE_START",{startTime:t}),this.createdAt=t||this.performance.now()),2!==this.initialVisibilityState?((0,h.getPageRequestMethod)(this.isClientSideRequest).then((e=>{this.pageRequestMethod=e})),this.isClientSideRequest?this.recorderResults.documentAge=0:o.default.get("pageGeneratedAt")&&(this.recorderResults.documentAge=Math.max(Date.now()-o.default.get("pageGeneratedAt"),0)),this.gatherMetrics(),this.hasNecessaryPolyfills()&&this.gatherPolyfilledMetrics()):this.isRecorderLoggable=!1}}n.default=T,T.lastInputDelayEvent=void 0}),"7ba774",["05b07c","be93ab","597519","c03a13","dcb1c5","b5448d","7fa3ea","aee773","695adb","7522e1","d579db","8f7de0","6cda14"]),__d((function(e,t,r,s,i,n,a){"use strict";function o(e,t,r){const s=Math.log(e),i=Math.log(t/e),n=Math.sqrt(1-3*i-Math.sqrt((i-3)*(i-3)-8))/2;return(1-function(e){const t=e<0?-1:1,r=1/(1+.3275911*(e=Math.abs(e)));return t*(1-r*(.254829592+r*(r*(1.421413741+r*(1.061405429*r-1.453152027))-.284496736))*Math.exp(-e*e))}((Math.log(r)-s)/(Math.SQRT2*n)))/2}Object.defineProperty(n,"__esModule",{value:!0}),n.calculatePagePerformanceScore=function(e){const t=function({ttfcp:e,ttfmp:t,tbt:r,fid:s,cls:i}){return{ttfcp:o(2500,.08491351406,e||0),ttfmp:o(3e3,244.5719961,t||0),fid:o(170,.6089337333,s||0),tbt:o(1250,167.2687485,r||0),cls:o(.15,1.889923697e-7,i||0)}}(e);return.35*t.ttfcp+.15*t.ttfmp+.3*t.fid+.15*t.tbt+.05*t.cls}}),"7c8981",[]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLayoutShfitDebugEntry=function(e){var t;const r=null!==(t=e.sources)&&void 0!==t?t:[],s=r.filter((e=>Boolean(e.node))),i=s[s.length-1];return{value:e.value||0,startTime:Math.round(e.startTime),totalSources:r.length,sourceSample:{node:(0,o.serializeNode)(null==i?void 0:i.node),shift:c(null==i?void 0:i.currentRect,null==i?void 0:i.previousRect)}}};var o=t(a[0]);function c(e,t){if(!e||!t)return{};const r=e.x-t.x,s=e.y-t.y,i=e.width-t.width,n=e.height-t.height;return{...0===r?{}:{x:r},...0===s?{}:{y:s},...0===i?{}:{width:i},...0===n?{}:{height:n}}}}),"7fa3ea",["4e0da4"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HYDRATE_PERFORMANCE_HOC_MARK=n.HYDRATE_MEANINGFUL_ELEMENT_MARK=n.FMP_TARGET_ID=void 0,n.FMP_TARGET_ID="FMP-target",n.HYDRATE_MEANINGFUL_ELEMENT_MARK="hydrate-meaningful-element",n.HYDRATE_PERFORMANCE_HOC_MARK="hydrate-performance-hoc"}),"8f7de0",[]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getNetworkInformation=function(){if(window.navigator&&window.navigator.connection){const{connection:e}=window.navigator;return{effective_type:e.effectiveType,rtt:e.rtt,downlink:e.downlink}}},n.getWWWCdnProvider=function(){return{www_cdn_provider:o.default.get("wwwCdnProvider")||"Unknown"}},n.getWebPerformanceTiming=function(){if(window.performance&&window.performance.timing){const{navigationStart:e,redirectStart:t,redirectEnd:r,fetchStart:s,domainLookupStart:i,domainLookupEnd:n,connectStart:a,connectEnd:o,secureConnectionStart:c,requestStart:l,responseStart:u,responseEnd:d,domLoading:h,domInteractive:m,domContentLoadedEventStart:p,domContentLoadedEventEnd:f,domComplete:g,loadEventStart:_,loadEventEnd:v}=window.performance.timing;return{navigation_start_timestamp_in_ms:e,time_to_redirect_start_in_ms:t,time_to_redirect_end_in_ms:r,time_to_fetch_start_in_ms:s,time_to_domain_lookup_start_in_ms:i,time_to_domain_lookup_end_in_ms:n,time_to_connect_start_in_ms:a,time_to_connect_end_in_ms:o,time_to_secure_connection_start_in_ms:c,time_to_request_start_in_ms:l,time_to_response_start_in_ms:u,time_to_response_end_in_ms:d,time_to_dom_loading_in_ms:h,time_to_dom_interactive_in_ms:m,time_to_dom_content_loaded_event_start_in_ms:p,time_to_dom_content_loaded_event_end_in_ms:f,time_to_dom_complete_in_ms:g,time_to_load_event_start_in_ms:_,time_to_load_event_end_in_ms:v}}};var o=babelHelpers.interopRequireDefault(t(a[0]))}),"aee773",["05b07c"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPageRequestMethod=function(t){return function(){const{navigator:e}=window;return void 0===e?Promise.resolve(!1):"serviceWorker"in e&&e.serviceWorker.getRegistration?e.serviceWorker.getRegistration("/").then((e=>!(!e||!e.active))).catch((()=>!1)):Promise.resolve(!1)}().then((t=>{if(!t)return!1;const r=e.window&&(0,l.default)();if(!r||!r.getEntriesByType)return!1;const s=r.getEntriesByType("navigation");if(!s||0===s.length)return o.default.get("isServiceWorkerAppShell");const i=s[0].serverTiming;return!(!i||0===i.length)&&i.filter((e=>"serviceWorker"===e.name)).length>0})).catch((()=>!1)).then((e=>t?Promise.resolve(2):e?Promise.resolve(4):1===d?Promise.resolve(5):Promise.resolve(1)))};var o=babelHelpers.interopRequireDefault(t(a[0])),c=babelHelpers.interopRequireDefault(t(a[1])),l=babelHelpers.interopRequireDefault(t(a[2])),u=t(a[3]);let d;!function(){if((0,c.default)())return;const t=Date.now(),{tracking_context:r=null}=o.default.get("layout-init")||{};if(r&&r.action&&["app_shell","sw_skeleton"].some((e=>r.action.includes(e))))return;const s=t-(o.default.get("pageGeneratedAt")||t)>6e5;d=s?1:3;const i=e.window&&(0,l.default)();let n=3;if(i&&i.getEntriesByType){const e=i.getEntriesByType("navigation");if(e&&e.length>0){var a;const t=null===(a=e[0].serverTiming)||void 0===a?void 0:a.find((e=>"cdn-cache"===e.name));"HIT"===(null==t?void 0:t.description)?n=1:"MISS"!==(null==t?void 0:t.description)&&"NO-STORE"!==(null==t?void 0:t.description)||(n=2)}}3!==n&&(d=n),(0,u.airdogCount)("cache_state_comparison",1,{pageAgeLooksCached:String(s),serverTimingCacheState:String(n)})}()}),"b5448d",["05b07c","6f9d08","be93ab","08b665"]),__d((function(e,t,r,s,i,n,a){"use strict";function o(){const e=t(a[0]);return o=function(){return e},e}function c(){const e=t(a[1]);return c=function(){return e},e}function l(){const e=t(a[2]);return l=function(){return e},e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=babelHelpers.interopRequireDefault(t(a[3])),d=t(a[4]),h=t(a[5]),m=babelHelpers.interopRequireDefault(t(a[6])),p=babelHelpers.interopRequireDefault(t(a[7])),f=t(a[8]),g=babelHelpers.interopRequireDefault(t(a[9])),_=babelHelpers.interopRequireDefault(t(a[10])),v=babelHelpers.interopRequireDefault(t(a[11]));function b(e){if(e)return Object.keys(l().PageName).find((t=>l().PageName[t]===e))}var y=new class{constructor({isResetPageEventsEnabled:e,trackingModule:t}){this.trackingModule=void 0,this.performanceRecorders=[],this.ignorePathnameUpdate=void 0,this.includeHistoryUpdate=void 0,this.nextPageCreatedAt=void 0,this.resetPageEvents=void 0,this.pauseInfo={pauseStart:0,pauseDuration:0,pausePending:!1},this.currentPathname="",this.currentSearch="",this.setReadMetricsFromPerformanceRecorder=()=>{window.__readMetricsFromPerformanceRecorder=()=>this.performanceRecorders.map((e=>{if(!e.isRecorderLoggable)return;const t=b(e.universalPageName),r=b(e.subPageName),s=(0,v.default)({resources:e.recorderResults.resources,universalPageName:e.universalPageName}),i={...e.readCalculatedMetrics(),ttfcp:e.recorderResults.ttfcp,ttfmp:e.recorderResults.ttfmp,ttlcp:e.recorderResults.ttlcp,fid:e.recorderResults.fid,timeToFid:e.recorderResults.timeToFid,cls:e.recorderResults.cumulativeLayoutShift,lcp:e.recorderResults.lcp,createdAt:e.createdAt,pageRequestMethod:e.pageRequestMethod,cumulativeLayoutShiftEntries:e.recorderResults.cumulativeLayoutShiftEntries,assetSizes:s},n=(0,f.calculatePagePerformanceScore)(i);return{...i,pageName:t,subPageName:r,score:n}})).filter((e=>!!e))},this.updateCurrentRecorderWithHOCProps=e=>{const t=this.performanceRecorders[this.performanceRecorders.length-1];var r;t&&(t.universalPageName=e.universalPageName,t.subPageName=e.subPageName,t.impressionUuid=e.impressionUuid,t.eventData=e.eventData,t.eventDataSchema=e.eventDataSchema,t.isDirectRequest||t.setTtfcpClientFromTimestamp(e.timestampOfFCP),t.isRecorderLoggable&&p.default.getBootstrap("web_pps_leading_event_enabled")&&(null===(r=this.trackingModule)||void 0===r||r.queueJitneyEvent({schema:o().PerformanceWebPageLeadingEvent,event_data:{universal_page_name:t.universalPageName,subpage_name:t.subPageName,page_request_method:t.pageRequestMethod,impression_uuid:t.impressionUuid,domain_and_path:t.domainAndPath,event_data:JSON.stringify(t.eventData||""),event_data_schema:JSON.stringify(t.eventDataSchema||"")}})))},this.handleNewHistory=e=>{e.listen(this.onHistoryChange)},this.setIgnorePathnameUpdate=e=>{this.ignorePathnameUpdate=e},this.clearIgnorePathnameUpdate=()=>{this.ignorePathnameUpdate=void 0},this.setIncludeHistoryUpdate=e=>{this.includeHistoryUpdate=e},this.clearIncludeHistoryUpdate=()=>{this.includeHistoryUpdate=void 0},this.startNextPageTimer=()=>{this.nextPageCreatedAt=(0,m.default)().now(),this.pauseInfo.pausePending=!1,this.pauseInfo.pauseStart=0,this.pauseInfo.pauseDuration=0},this.pauseNextPageTimer=()=>{this.pauseInfo.pausePending=!0,this.pauseInfo.pauseStart=(0,m.default)().now()},this.resumeNextPageTimer=()=>{this.pauseInfo.pausePending?(this.pauseInfo.pausePending=!1,this.pauseInfo.pauseDuration+=(0,m.default)().now()-this.pauseInfo.pauseStart,this.pauseInfo.pauseStart=0):(0,d.airdogCount)("page_transition_coordinator.page_timer.error",1,["error:pause","pathname:"+window.location.pathname])},this.createNewRecorder=({isDirectRequest:e})=>{const t=this.performanceRecorders[this.performanceRecorders.length-1];t&&t.retire();const r=this.getNextPageCreatedAt();this.performanceRecorders.push(new g.default({isDirectRequest:e,pageCreatedAt:r}))},this.getNextPageCreatedAt=()=>{let e;return this.nextPageCreatedAt&&this.pauseInfo.pauseDuration?e=this.nextPageCreatedAt+this.pauseInfo.pauseDuration:this.pauseInfo.pausePending?((0,d.airdogCount)("page_transition_coordinator.page_timer.error",1,["error:resume","pathname:"+window.location.pathname]),e=this.nextPageCreatedAt):this.nextPageCreatedAt&&(e=this.nextPageCreatedAt),this.nextPageCreatedAt=void 0,e},this.onHistoryChange=(e,t)=>{const r=e.pathname,s=e.search;this.isPageTransition({action:t,prevPathname:this.currentPathname,prevSearch:this.currentSearch,nextPathname:r,nextSearch:s})&&(this.flushAllEvents({triggeringAction:t}),this.createNewRecorder({isDirectRequest:!1})),this.currentPathname=r,this.currentSearch=s},this.isPageTransition=e=>{if("function"==typeof this.includeHistoryUpdate)return this.includeHistoryUpdate(e);const{action:t,prevPathname:r,nextPathname:s}=e;return!(!r||!s)&&r!==s&&("function"!=typeof this.ignorePathnameUpdate||!this.ignorePathnameUpdate({prevPathname:r,nextPathname:s,action:t}))&&["POP","PUSH","REPLACE"].includes(t)},this.flushAllEvents=({triggeringAction:e}={})=>{var t;(0,h.isBot)()||(this.performanceRecorders.forEach((t=>{var r;if(t.retired||t.retire(),!t.isRecorderLoggable)return;const{problems:s,warnings:i}=t.getDataProblems();"REPLACE"!==e||t.recorderResults.fid||i.push("probable-redirect");const n=["pathname:"+window.location.pathname,"pagename:"+b(t.universalPageName),"subpage_name:"+b(t.subPageName),"page_request_method:"+t.pageRequestMethod];i.length>0&&(0,d.airdogCount)("page_transition_coordinator.data.warning",1,["error:data-warning",...n,...i.map((e=>`warning_${e}:true`))]),s.length>0?(0,d.airdogCount)("page_transition_coordinator.data.error",1,["error:data-problems",...n,...s.map((e=>`problem_${e}:true`))]):null===(r=this.trackingModule)||void 0===r||r.queueJitneyEvent({schema:c().PerformanceWebPageMetricsEvent,event_data:(0,_.default)(t)})})),this.performanceRecorders=[],null===(t=this.trackingModule)||void 0===t||t.getLogger().flushEventQueue())},this.setPageCloseHandlers=()=>{window.addEventListener("beforeunload",(()=>this.flushAllEvents()),!0),window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.flushAllEvents()})),(0,h.isSafari)()&&window.addEventListener("pagehide",(()=>this.flushAllEvents()))},this.currentPathname=window.location.pathname,this.currentSearch=window.location.search,this.resetPageEvents=null==e||e,this.createNewRecorder({isDirectRequest:!0}),this.trackingModule=t,this.setPageCloseHandlers(),this.setReadMetricsFromPerformanceRecorder()}}({trackingModule:u.default});n.default=y}),"c323ce",["d52e94","39b0bd","b5b294","4cdbd9","08b665","c03a13","be93ab","6b945b","7c8981","7ba774","4e0da4","d579db"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PerformanceWebPageLeadingEvent=void 0;var o={defaultProps:{schema:"com.airbnb.jitney.event.logging.Performance:PerformanceWebPageLeadingEvent:1.0.0",event_name:"performance_web_page_leading"},propTypes:{}};n.PerformanceWebPageLeadingEvent=o,o.fullyQualifiedName="Performance.v1.PerformanceWebPageLeadingEvent"}),"d52e94",[]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({resources:e,universalPageName:t}){var r,s,i,n,a;if(0===e.length||e.length>0&&void 0===e[0].decodedBodySize)return;const u=["link","img","css","script","other"],d=[{type:"css",initiatorList:["link"],regex:/^.+(muscache|localhost).+\.css(\?.*)?$/},{type:"img",initiatorList:["img","css","link"],regex:/^.+(muscache|localhost).+(jpg|jpeg|png|gif|webp)(\?.*)?$/},{type:"js",category:"airbnb",initiatorList:["link","script"],regex:/^.+(muscache|localhost).+\.m?(js|bundle)(\?.*)?$/},{type:"js",category:"third_party",initiatorList:["link","script"],regex:/^((?!(muscache|localhost)).)*\.m?js(\?.*)?$/},{type:"font",initiatorList:["link","css","other"],regex:/^.+(muscache|localhost).+\.woff2(\?.*)?$/}],h={css:{...l},js:{airbnb:{...l},third_party:{...l}},img:{...l},font:{...l}},m=[],p=o.default.getBootstrap("instrument_search_results_images");var f,g;return e.filter((({initiatorType:e})=>u.includes(e))).forEach((({duration:e,name:r,initiatorType:s,decodedBodySize:i,transferSize:n,encodedBodySize:a})=>{d.find((({type:o,initiatorList:l,regex:u,category:d})=>{if(l.includes(s)&&r.match(u)){const s=d?h[o][d]:h[o];if(p&&"img"===o&&2e3===t&&Math.random()<=.001){const t=(0,c.createJitneyPropsForImageResource)({duration:e,encodedBodySize:a,name:r,transferSize:n});t&&m.push(t)}const l=s.count*s.cache_hit_ratio+(0===n?1:0);return s.count+=1,s.cache_hit_ratio=l?l/s.count:0,s.transfer_size+=n,s.encodedbody_size+=a,s.decodedbody_size+=i,!0}return!1}))})),h.css=null!==(r=h.css)&&void 0!==r&&r.count?h.css:void 0,null!==(s=h.js)&&void 0!==s&&null!==(i=s.airbnb)&&void 0!==i&&i.count?0===(null===(f=h.js)||void 0===f||null===(g=f.third_party)||void 0===g?void 0:g.count)&&(h.js.third_party.cache_hit_ratio=1):h.js=void 0,h.img=null!==(n=h.img)&&void 0!==n&&n.count?h.img:void 0,h.font=null!==(a=h.font)&&void 0!==a&&a.count?h.font:void 0,p&&m.length&&(0,c.sendJitneyEventsForImages)(m),Object.values(h).find((e=>!!e))?h:void 0};var o=babelHelpers.interopRequireDefault(t(a[0])),c=t(a[1]);const l={transfer_size:0,encodedbody_size:0,decodedbody_size:0,count:0,cache_hit_ratio:0}}),"d579db",["6b945b","21b302"]),__d((function(e,t,r,s,i,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){switch(document.visibilityState){case"visible":return 1;case"hidden":return 2;case"prerender":return 3;default:return 4}}}),"dcb1c5",[]);